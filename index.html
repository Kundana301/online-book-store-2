<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter & Verse | Premium Bookstore</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --amazon-blue: #232f3e;
            --amazon-light: #37475a;
            --amazon-orange: #febd69;
            --amazon-accent: #e67e22;
            --bg-gray: #eaeded;
        }

        body { font-family: 'Segoe UI', Arial, sans-serif; margin: 0; background-color: var(--bg-gray); color: #111; line-height: 1.4; }

        /* HEADER & NAVIGATION */
        header { background-color: var(--amazon-blue); color: white; padding: 10px 2%; position: sticky; top: 0; z-index: 1000; }
        .nav-top { display: flex; align-items: center; justify-content: space-between; gap: 20px; }
        .logo { font-size: 1.4rem; font-weight: bold; color: white; text-decoration: none; cursor: pointer; white-space: nowrap; }
        .logo span { color: var(--amazon-orange); }

        .search-container { flex-grow: 1; display: flex; max-width: 800px; }
        .search-container input { width: 100%; padding: 10px; border: none; border-radius: 4px 0 0 4px; outline: none; }
        .search-container button { background: var(--amazon-orange); border: none; padding: 0 15px; border-radius: 0 4px 4px 0; cursor: pointer; font-size: 1.1rem; }

        .nav-tools { display: flex; align-items: center; gap: 20px; }
        .nav-link { color: white; text-decoration: none; font-size: 0.8rem; cursor: pointer; }
        .nav-link b { display: block; font-size: 0.9rem; }
        .cart-icon { position: relative; font-size: 1.8rem; display: flex; align-items: center; }
        #cart-count { position: absolute; top: -5px; right: -10px; background: var(--amazon-accent); color: white; border-radius: 50%; padding: 2px 6px; font-size: 0.7rem; font-weight: bold; }

        .sub-nav { background-color: var(--amazon-light); color: white; padding: 8px 2%; display: flex; gap: 15px; font-size: 0.9rem; overflow-x: auto; }
        .sub-nav span { cursor: pointer; white-space: nowrap; padding: 2px 5px; }

        /* PAGE LAYOUT */
        .page { display: none; padding: 20px 2%; max-width: 1300px; margin: 0 auto; min-height: 80vh; }
        .active { display: block; }

        /* BOOK GRID */
        .book-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; margin-top: 20px; }
        .book-card { background: white; padding: 15px; border-radius: 4px; display: flex; flex-direction: column; transition: 0.2s; }
        .book-card:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .book-card img { width: 100%; height: 220px; object-fit: contain; cursor: pointer; }
        .book-title { font-weight: 500; color: #007185; cursor: pointer; margin-top: 10px; height: 40px; overflow: hidden; }
        .book-title:hover { color: #c45500; text-decoration: underline; }
        .rating { color: #ffa41c; font-size: 0.8rem; margin: 5px 0; }
        .price { font-size: 1.2rem; font-weight: bold; }
        .add-btn { background: #ffd814; border: 1px solid #fcd200; border-radius: 20px; padding: 8px; cursor: pointer; width: 100%; margin-top: auto; }
        
        /* PRODUCT DETAIL PAGE */
        .detail-layout { display: grid; grid-template-columns: 400px 1fr 250px; gap: 30px; background: white; padding: 30px; border-radius: 8px; }
        .detail-img-container img { width: 100%; border: 1px solid #eee; }
        .detail-info h1 { margin: 0 0 10px 0; font-size: 1.8rem; }
        .detail-info hr { border: 0; border-top: 1px solid #ddd; margin: 15px 0; }
        .review-card { border-bottom: 1px solid #eee; padding: 10px 0; }

        /* CART PAGE */
        .cart-layout { display: grid; grid-template-columns: 1fr 300px; gap: 20px; }
        .cart-list { background: white; padding: 20px; }
        .cart-item { display: flex; gap: 20px; padding: 15px 0; border-bottom: 1px solid #ddd; }
        .cart-item img { width: 100px; }
        .summary-box { background: white; padding: 20px; height: fit-content; position: sticky; top: 100px; }

        /* HERO SECTION */
        .hero { background: linear-gradient(to right, #ffffff, transparent), url('https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?w=1200'); height: 250px; background-size: cover; display: flex; align-items: center; padding: 0 50px; border-radius: 8px; margin-bottom: 20px; }

        footer { background: var(--amazon-blue); color: white; text-align: center; padding: 40px; margin-top: 50px; }
    </style>
</head>
<body>

<header>
    <div class="nav-top">
        <div class="logo" onclick="showPage('home')">Chapter<span>&Verse</span></div>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search for books, authors..." onkeyup="if(event.key==='Enter') runSearch()">
            <button onclick="runSearch()"><i class="fa fa-search"></i></button>
        </div>
        <div class="nav-tools">
            <div class="nav-link" onclick="showPage('login')">Hello, Sign in<b>Account</b></div>
            <div class="nav-link cart-icon" onclick="showPage('cart')">
                <i class="fa fa-shopping-cart"></i>
                <span id="cart-count">0</span>
            </div>
        </div>
    </div>
</header>

<div class="sub-nav">
    <span onclick="filterCategory('All')"><b><i class="fa fa-bars"></i> All</b></span>
    <span onclick="filterCategory('Fiction')">Fiction</span>
    <span onclick="filterCategory('Sci-Fi')">Sci-Fi</span>
    <span onclick="filterCategory('Non-Fiction')">Self-Help</span>
    <span onclick="filterCategory('History')">History</span>
    <span onclick="filterCategory('Tech')">Technology</span>
</div>

<div id="home" class="page active">
    <div class="hero">
        <div>
            <h1 style="margin:0;">Book Discovery Week</h1>
            <p>Find your next favorite story with our curated lists.</p>
            <button class="add-btn" style="width:150px" onclick="filterCategory('Sci-Fi')">Explore Sci-Fi</button>
        </div>
    </div>
    <h2 id="gallery-title">Recommended for you</h2>
    <div class="book-grid" id="book-display"></div>
</div>

<div id="product-detail" class="page">
    <div class="detail-layout">
        <div class="detail-img-container">
            <img id="detail-img" src="">
        </div>
        <div class="detail-info">
            <h1 id="detail-title"></h1>
            <div id="detail-rating" class="rating"></div>
            <hr>
            <div class="price" id="detail-price" style="font-size: 1.6rem; color: #B12704;"></div>
            <p>Inclusive of all taxes</p>
            <hr>
            <h3>Description</h3>
            <p id="detail-desc" style="color: #333;"></p>
            <hr>
            <h3>Customer Reviews</h3>
            <div id="detail-reviews"></div>
        </div>
        <div class="summary-box" style="border: 1px solid #ddd;">
            <div class="price" id="side-price"></div>
            <p style="color: #007600; font-weight: bold; margin: 10px 0;">In Stock</p>
            <button class="add-btn" id="detail-add-btn">Add to Cart</button>
            <button class="add-btn" style="background: #ffa41c; border-color: #ff8f00; margin-top: 10px;" onclick="alert('Proceeding to Secure Checkout')">Buy Now</button>
        </div>
    </div>
    <div style="margin-top: 40px;">
        <hr>
        <h2>Related Books</h2>
        <div class="book-grid" id="related-display"></div>
    </div>
</div>

<div id="cart" class="page">
    <div class="cart-layout">
        <div class="cart-list">
            <h2>Shopping Cart</h2>
            <hr>
            <div id="cart-items-container"></div>
        </div>
        <div class="summary-box">
            <h3>Subtotal (<span id="sub-qty">0</span> items): <br><span id="sub-total">$0.00</span></h3>
            <button class="add-btn" style="background: #ffd814;" onclick="processCheckout()">Proceed to Buy</button>
        </div>
    </div>
</div>

<div id="login" class="page">
    <div style="background: white; max-width: 350px; margin: 40px auto; padding: 30px; border: 1px solid #ddd; border-radius: 8px;">
        <h2>Sign-In</h2>
        <input type="email" placeholder="Email" style="width:100%; padding:10px; margin:10px 0; box-sizing:border-box;">
        <input type="password" placeholder="Password" style="width:100%; padding:10px; margin:10px 0; box-sizing:border-box;">
        <button class="add-btn" onclick="showPage('home')">Sign In</button>
    </div>
</div>

<footer>
    <p>© 2024 Chapter & Verse Bookstore - No real books will be shipped.</p>
</footer>

<script>
    // 1. DATA
    const books = [
        { id: 1, title: "The Silent Forest", author: "Sarah J. Maas", price: 15.99, category: "Fiction", rating: 4.5, img: "https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=400", desc: "A hauntingly beautiful tale about a forest that swallowed a village whole, and the girl who dared to walk back in." },
        { id: 2, title: "Quantum Echoes", author: "Isaac Asimov", price: 12.50, category: "Sci-Fi", rating: 4.8, img: "https://images.unsplash.com/photo-1512820790803-83ca734da794?w=400", desc: "Space travel is common, but time travel is forbidden. Follow a scientist who discovers echoes of the future." },
        { id: 3, title: "Ancient Paths", author: "H.G. Wells", price: 18.00, category: "History", rating: 4.2, img: "https://images.unsplash.com/photo-1543003923-99926422040b?w=400", desc: "A deep dive into the lost civilizations of Mesopotamia and the technology they used to build empires." },
        { id: 4, title: "Midnight Sun", author: "Stephenie Meyer", price: 22.00, category: "Fiction", rating: 4.0, img: "https://images.unsplash.com/photo-1589829085413-56de8ae18c73?w=400", desc: "A retelling of the classic romance from a darker, more introspective perspective." },
        { id: 5, title: "The Tech Revolution", author: "Elon Musk", price: 29.99, category: "Tech", rating: 4.9, img: "https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=400", desc: "Insights into the future of AI, space exploration, and sustainable energy." },
        { id: 6, title: "Deep Focus", author: "Cal Newport", price: 14.20, category: "Non-Fiction", rating: 4.7, img: "https://images.unsplash.com/photo-1497633762265-9d179a990aa6?w=400", desc: "How to master the art of concentration in a world designed to distract you." },
        { id: 7, title: "Galaxy Guide", author: "Douglas Adams", price: 19.99, category: "Sci-Fi", rating: 4.6, img: "https://images.unsplash.com/photo-1614728263952-84ea206f2c40?w=400", desc: "The ultimate comedy adventure through the stars. Don't forget your towel." },
        { id: 8, title: "Empire of Gold", author: "S.A. Chakraborty", price: 21.50, category: "Fiction", rating: 4.3, img: "https://images.unsplash.com/photo-1474932430478-367dbb6832c1?w=400", desc: "The thrilling conclusion to a magical trilogy set in a hidden city of djinn." }
    ];

    const reviews = [
        "Verified Purchase: Best book I've read this year! ⭐⭐⭐⭐⭐",
        "Interesting plot but a bit slow in the middle. ⭐⭐⭐",
        "Absolutely stunning cover and even better writing. ⭐⭐⭐⭐⭐"
    ];

    let cart = [];

    // 2. RENDERING FUNCTIONS
    function displayBooks(bookList, elementId) {
        const container = document.getElementById(elementId);
        container.innerHTML = '';
        bookList.forEach(book => {
            container.innerHTML += `
                <div class="book-card">
                    <img src="${book.img}" onclick="openProduct(${book.id})">
                    <div class="book-title" onclick="openProduct(${book.id})">${book.title}</div>
                    <div class="rating">${'⭐'.repeat(Math.floor(book.rating))} ${book.rating}</div>
                    <div class="price">$${book.price.toFixed(2)}</div>
                    <button class="add-btn" onclick="addToCart(${book.id})">Add to Cart</button>
                </div>
            `;
        });
    }

    // 3. PRODUCT DETAIL LOGIC
    function openProduct(id) {
        const book = books.find(b => b.id === id);
        document.getElementById('detail-title').innerText = book.title;
        document.getElementById('detail-img').src = book.img;
        document.getElementById('detail-price').innerText = `$${book.price.toFixed(2)}`;
        document.getElementById('side-price').innerText = `$${book.price.toFixed(2)}`;
        document.getElementById('detail-desc').innerText = book.desc;
        document.getElementById('detail-rating').innerHTML = '⭐'.repeat(Math.floor(book.rating)) + ` ${book.rating} Ratings`;
        
        // Mock reviews
        document.getElementById('detail-reviews').innerHTML = reviews.map(r => `<div class="review-card">${r}</div>`).join('');
        
        // Related Books (Same category, excluding current book)
        const related = books.filter(b => b.category === book.category && b.id !== id);
        displayBooks(related, 'related-display');

        document.getElementById('detail-add-btn').onclick = () => addToCart(id);
        showPage('product-detail');
    }

    // 4. CART LOGIC
    function addToCart(id) {
        const book = books.find(b => b.id === id);
        cart.push(book);
        updateCart();
        
        // Visual feedback
        const btn = event.target;
        btn.innerText = "Added to Cart!";
        btn.style.background = "#27ae60";
        btn.style.color = "white";
        setTimeout(() => {
            btn.innerText = "Add to Cart";
            btn.style.background = "#ffd814";
            btn.style.color = "black";
        }, 1000);
    }

    function updateCart() {
        document.getElementById('cart-count').innerText = cart.length;
        document.getElementById('sub-qty').innerText = cart.length;
        
        const container = document.getElementById('cart-items-container');
        let total = 0;
        
        if(cart.length === 0) {
            container.innerHTML = "<p>Your cart is empty.</p>";
        } else {
            container.innerHTML = cart.map((item, index) => {
                total += item.price;
                return `
                    <div class="cart-item">
                        <img src="${item.img}">
                        <div style="flex-grow:1">
                            <h3>${item.title}</h3>
                            <p style="color:green">In Stock</p>
                            <button onclick="removeItem(${index})" style="color:#007185; background:none; border:none; cursor:pointer;">Delete</button>
                        </div>
                        <div class="price">$${item.price.toFixed(2)}</div>
                    </div>
                `;
            }).join('');
        }
        document.getElementById('sub-total').innerText = `$${total.toFixed(2)}`;
    }

    function removeItem(index) {
        cart.splice(index, 1);
        updateCart();
    }

    // 5. NAVIGATION & SEARCH
    function showPage(id) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        window.scrollTo(0,0);
    }

    function runSearch() {
        const q = document.getElementById('searchInput').value.toLowerCase();
        const filtered = books.filter(b => b.title.toLowerCase().includes(q) || b.category.toLowerCase().includes(q));
        document.getElementById('gallery-title').innerText = `Results for "${q}"`;
        displayBooks(filtered, 'book-display');
        showPage('home');
    }

    function filterCategory(cat) {
        if(cat === 'All') {
            displayBooks(books, 'book-display');
            document.getElementById('gallery-title').innerText = "Recommended for you";
        } else {
            const filtered = books.filter(b => b.category === cat);
            displayBooks(filtered, 'book-display');
            document.getElementById('gallery-title').innerText = `${cat} Books`;
        }
        showPage('home');
    }

    function processCheckout() {
        if(cart.length === 0) return alert("Cart is empty");
        alert("Thank you! Order placed successfully.");
        cart = [];
        updateCart();
        showPage('home');
    }

    // Initialize
    displayBooks(books, 'book-display');
</script>

</body>
</html>
